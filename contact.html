<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cabinet Pediatrie</title>
    <meta name="author" content="Stefan Ion-Viorel" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-primary fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html"> CC </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mynavbar"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="mynavbar">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Acasa</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="servicii.html">Servicii</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="despre.html">Despre noi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="contact.html">Contact</a>
            </li>
          </ul>
          <div class="d-flex">
            <input
              class="form-control me-2"
              type="text"
              placeholder="Cautare"
              id="search"
            />
            <button class="btn btn-dark" type="button" id="search-button">
              Cauta
            </button>
          </div>
          <div class="social">
            <a href="help.html">
              <i class="bi bi-question-circle"></i>
            </a>
            <a href="https://www.facebook.com/" target="_blank">
              <i class="bi bi-facebook"></i>
            </a>
            <a href="https://www.instagram.com/" target="_blank">
              <i class="bi bi-instagram"></i>
            </a>
          </div>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="mb-6">
        <h3 style="padding-top: 10px" class="text-primary">Adresa</h3>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <p><i class="bi bi-envelope"></i>cc.cab@gmail.com</p>
          <p><i class="bi bi-telephone"></i> 0255434469</p>
          <p>
            <i class="bi bi-geo-alt"></i>Strada Gheorghe È˜incai 53, Drobeta
            Turnu-Severin
          </p>
          <img src="images/map.jpg" class="img-fluid" id="map" />
        </div>
        <div class="col-sm-6">
          <form class="form" action="" class="was-validated">
            <div class="mb-3">
              <label for="name" class="form-label fw-bold"
                >Nume (obligatoriu)</label
              >
              <input
                type="text"
                class="form-control"
                id="name"
                maxlength="30"
                placeholder="Numele Dvs"
                required
              />
            </div>
            <div class="mb-3">
              <label for="e-mail" class="form-label fw-bold"
                >E-mail (obligatoriu)</label
              >
              <input
                type="email"
                class="form-control"
                id="e-mail"
                placeholder="Adresa de email"
                required
              />
            </div>
            <div class="mb-3">
              <label for="phone" class="form-label fw-bold"
                >Telefon (obligatoriu)</label
              >
              <input
                type="tel"
                class="form-control"
                id="phone"
                placeholder="Numarul de telefon"
                required
              />
            </div>
            <div class="mb-3">
              <label for="subject" class="form-label fw-bold"
                >Subiect (Obligatoriu)</label
              >
              <input
                type="text"
                class="form-control"
                id="subject"
                placeholder="Subiect email"
                required
              />
            </div>
            <div class="mb-3">
              <label for="message" class="form-label fw-bold">Mesaj</label>
              <textarea
                class="form-control"
                id="message"
                rows="3"
                placeholder="Mesajul Dvs"
              ></textarea>
            </div>
            <div class="mb-3">
              <button
                type="submit"
                class="btn btn-primary mb-3"
                id="submit-button"
              >
                Trimite
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- buton top -->
    <button class="btn btn-primary" type="button" id="top-btn">Sus</button>

    <div class="mt-5 p-4 text-dark text-center">
      <ul class="nav justify-content-center">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Acasa</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="servicii.html">Servicii</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="despre.html">Despre noi</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="contact.html">Contact</a>
        </li>
      </ul>
      <p>Stefan Ion-Viorel</p>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="app.js"></script>
    <script src="cautare.js"></script>
    <script>
      // validare formular contact
      const name = document.querySelector("#name"),
        email = document.querySelector("#e-mail"),
        tel = document.querySelector("#phone"),
        subject = document.querySelector("#subject"),
        message = document.querySelector("#message"),
        /* submit formular */
        submitBtn = document.querySelector("#submit-button");

      let validName = false,
        validEmail = false,
        validTel = false,
        validSubject = false;

      let validateName = () => {
        if (name.value == "") {
          name.classList.add("invalid");
          validName = false;
        } else {
          name.classList.remove("invalid");
          validName = true;
        }
      };

      const emailRegex = /^\w+@\w+\.\w+$/;
      let validateEmail = () => {
        if (emailRegex.test(email.value)) {
          email.classList.remove("invalid");
          validEmail = true;
        } else {
          email.classList.add("invalid");
          validEmail = false;
        }
      };

      const telRegex = /^\d+$/g;
      let validateTel = () => {
        if (telRegex.test(tel.value)) {
          tel.classList.remove("invalid");
          validTel = true;
        } else {
          tel.classList.add("invalid");
          validTel = false;
        }
      };

      let validateSubject = () => {
        if (name.value == "") {
          tel.classList.add("invalid");
          validSubject = false;
        } else {
          tel.classList.remove("invalid");
          validSubject = true;
        }
      };

      /* trimitere email - la apasarea butonului submit se deschide clientul de email */
      submitBtn.addEventListener("click", () => {
        /* verifica daca au fost completate date in formular */
        validateName();
        validateEmail();
        validateTel();
        validateSubject();

        if (validName && validEmail && validTel && validSubject) {
          /* se creaza un element de tip link care deschide aplicaia mail
           se adauga subiectul luat din formular , subiectul, mesajul propriu zis si la final se aduga numarul de telefon si emailul scris in formular */
          const sender = document.createElement("a");
          sender.href = `mailto:cc.cab@gmail.com?subject=${subject.value}&body=${message.value}
        %0D%0A${name.value}
        %0D%0A${email.value}
        %0D%0A${tel.value}`;
          /* se adauga elementul creat in body , se face click automat si apoi se sterge din doc, adica nu este afisat pe ecran */
          document.body.appendChild(sender);
          sender.click();
          document.body.removeChild(sender);
        }
      }); //submitButton.addEventListener
    </script>
  </body>
</html>
